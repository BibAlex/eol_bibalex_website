= javascript_include_tag 'pages'
%small
%span.dropdown.pull-right
  %a.dropdown-toggle.btn.btn-primary.exploreTaxonBtn{"aria-expanded" => "false", "aria-haspopup" => "true", "data-toggle" => "dropdown", :href => "#", :role => "button"}
    #{t(:explore_taxon)}
    %span.caret
  %ul#menu1.dropdown-menu{"aria-labelledby" => "drop4"}
    %li
      %a{:href => page_path(@page)} #{t(:overview)}
    %li
      %a{:href => names_page_path(@page)} #{t(:names)}
    - if @page.media.size > 0
      %litrue
        %a{:href => page_media_path(@page)} #{t(:media)}
    -if @page.referents.size > 0
      %li
        %a{:href => page_literature_and_references_path(@page)} #{t(:literature_and_references_header)}
    -if @page.data.size > 0
      %li
        %a{:href => page_data_path(@page)} #{t(:data)}
    -if @page.articles.size > 0
      %li
        %a{:href => page_articles_path(@page)} #{t(:articles)}

    -if @page.map?
      %li
        %a{:href => page_maps_path(@page)} #{t(:maps)}

- if user_signed_in?
  %small
  %span.dropdown.pull-right
    %a.btn.btn-primary{id: "#{@page.id}", "aria-expanded": "true", "aria-haspopup": "true", "data-target": "#edit", "data-toggle": "modal", onclick: "showPopup(this)", role: "button"}
      #{t(:collect_button)}
  .modal{id: "popup_#{@page.id}", "aria-labelledby": "popup_#{@page.id}Label", role: "dialog", tabindex: "-1"}
    .modal-dialog.modal-lg.extra_large{role: "document"}
      .modal-content
        .modal-header
          .form-group.row.form-inline
            .col-md-10.col-sm-10.col-xs-10
              .editLabel.modal-title #{t(:add_page_to_collection)} 
            .col-md-2.col-sm-2.col-xs-2
              %button{ id: "#{@page.id}", class: "btn btn-primary pull-right", tabindex: "1", onclick: 'hidePopup(this, event)'}x
        .modal-body.editCollection
          = render("collected_pages/new", page_id: @page.id)
  
        .modal-footer
          .form-group.row.form-inline
            .col-md-12.col-sm-12.col-xs-12

.page_topics{ data: { id: @page.id } }    
